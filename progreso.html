<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Progreso del Usuario</title>
  <link rel="stylesheet" href="css/estilos.css" />
</head>
<body>
  <main>
    <h1>Tu Progreso</h1>
    <section id="estadisticas">
      <h2>Quiz Comentado</h2>
      <p id="quiz-total">Total preguntas respondidas: 0</p>
      <p id="quiz-correctas">Respuestas correctas: 0</p>
      <p id="quiz-porcentaje">Porcentaje de aciertos: 0%</p>

      <h2>Citas Bíblicas</h2>
      <p id="citas-total">Total preguntas respondidas: 0</p>
      <p id="citas-correctas">Respuestas correctas: 0</p>
      <p id="citas-porcentaje">Porcentaje de aciertos: 0%</p>
    </section>

    <button id="borrarProgreso">Borrar progreso</button>
    <button onclick="location.href='index.html'">Volver al inicio</button>
  </main>

  <script>
    // Función para cargar y mostrar progreso desde localStorage
    function cargarProgreso() {
      // Quiz Comentado
      const progresoQuiz = JSON.parse(localStorage.getItem('progresoQuiz')) || {
        total: 0,
        correctas: 0
      };
      document.getElementById('quiz-total').textContent = 
        `Total preguntas respondidas: ${progresoQuiz.total}`;
      document.getElementById('quiz-correctas').textContent = 
        `Respuestas correctas: ${progresoQuiz.correctas}`;
      const porcentajeQuiz = progresoQuiz.total > 0 ? 
        Math.round((progresoQuiz.correctas / progresoQuiz.total) * 100) : 0;
      document.getElementById('quiz-porcentaje').textContent = 
        `Porcentaje de aciertos: ${porcentajeQuiz}%`;

      // Citas Bíblicas
      const progresoCitas = JSON.parse(localStorage.getItem('progresoCitas')) || {
        total: 0,
        correctas: 0
      };
      document.getElementById('citas-total').textContent = 
        `Total preguntas respondidas: ${progresoCitas.total}`;
      document.getElementById('citas-correctas').textContent = 
        `Respuestas correctas: ${progresoCitas.correctas}`;
      const porcentajeCitas = progresoCitas.total > 0 ? 
        Math.round((progresoCitas.correctas / progresoCitas.total) * 100) : 0;
      document.getElementById('citas-porcentaje').textContent = 
        `Porcentaje de aciertos: ${porcentajeCitas}%`;
    }

    // Función para borrar progreso
    function borrarProgreso() {
      if(confirm('¿Seguro que quieres borrar todo el progreso?')) {
        localStorage.removeItem('progresoQuiz');
        localStorage.removeItem('progresoCitas');
        cargarProgreso();
      }
    }

    // Ejecutar al cargar la página
    document.addEventListener('DOMContentLoaded', () => {
      cargarProgreso();
      document.getElementById('borrarProgreso').addEventListener('click', borrarProgreso);
    });
  </script>
</body>
</html>
