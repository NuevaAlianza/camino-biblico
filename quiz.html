<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Quiz por Categoría y Tema</title>
  <style>
    button { margin: 5px; padding: 8px 15px; font-size: 16px; }
    #quiz-container { margin-top: 20px; }
  </style>
</head>
<body>

  <h2>Selecciona una categoría</h2>
  <div id="categorias"></div>

  <h2>Selecciona un tema</h2>
  <div id="temas"></div>

  <div id="quiz-container"></div>

<script>
  // Aquí tu JSON con preguntas (puede venir de archivo o fetch)
  const datos = [
    {
      "categoria": "Profetas",
      "tema": "Daniel",
      "tipo": "quiz comentado",
      "pregunta": "¿Qué le sucedió a los tres amigos de Daniel cuando no adoraron la estatua de oro?",
      "respuesta": "Fueron lanzados al horno de fuego ardiente",
      "opcion_1": "Fueron arrojados a un pozo con escorpiones",
      "opcion_2": "Fueron condenados al exilio",
      "opcion_3": "Se les negó todo alimento",
      "cita biblica": "Daniel 3,19 “Fue arrojados al horno de fuego ardiente.”"
    },
    {
      "categoria": "Profetas",
      "tema": "Daniel",
      "tipo": "quiz comentado",
      "pregunta": "¿Qué visión tuvo Daniel que le reveló el fin de los tiempos?",
      "respuesta": "La visión de las cuatro bestias",
      "opcion_1": "La visión del carnero y el macho cabrío",
      "opcion_2": "La visión del fuego eterno",
      "opcion_3": "La visión de los siete sellos",
      "cita biblica": "Daniel 7,2-3 “Vi cuatro grandes bestias que subían del mar.”"
    },
    {
      "categoria": "Apóstoles",
      "tema": "Pedro",
      "tipo": "quiz comentado",
      "pregunta": "¿Quién negó a Jesús tres veces?",
      "respuesta": "Pedro",
      "opcion_1": "Juan",
      "opcion_2": "Pablo",
      "opcion_3": "Andrés",
      "cita biblica": "Mateo 26,69-75"
    }
  ];

  const divCategorias = document.getElementById('categorias');
  const divTemas = document.getElementById('temas');
  const divQuiz = document.getElementById('quiz-container');

  // Función para listar categorías únicas y crear botones
  function mostrarCategorias() {
    const categorias = [...new Set(datos.map(d => d.categoria))];
    divCategorias.innerHTML = '';
    divTemas.innerHTML = '';
    divQuiz.innerHTML = '';
    categorias.forEach(c => {
      const btn = document.createElement('button');
      btn.textContent = c;
      btn.onclick = () => mostrarTemas(c);
      divCategorias.appendChild(btn);
    });
  }

  // Función para listar temas según categoría
  function mostrarTemas(categoria) {
    const temas = [...new Set(datos.filter(d => d.categoria === categoria).map(d => d.tema))];
    divTemas.innerHTML = '';
    divQuiz.innerHTML = '';
    temas.forEach(t => {
      const btn = document.createElement('button');
      btn.textContent = t;
      btn.onclick = () => iniciarQuiz(categoria, t);
      divTemas.appendChild(btn);
    });
  }

  // Función simple para iniciar quiz (mostrar preguntas para esa categoria y tema)
  function iniciarQuiz(categoria, tema) {
    const preguntas = datos.filter(d => d.categoria === categoria && d.tema === tema);
    divQuiz.innerHTML = `<h3>Quiz: ${categoria} - ${tema}</h3>`;
    preguntas.forEach((p, i) => {
      divQuiz.innerHTML += `
        <div style="border:1px solid #ccc; margin:10px; padding:10px;">
          <p><strong>Pregunta ${i+1}:</strong> ${p.pregunta}</p>
          <ul>
            <li>A) ${p.respuesta}</li>
            <li>B) ${p.opcion_1}</li>
            <li>C) ${p.opcion_2}</li>
            <li>D) ${p.opcion_3}</li>
          </ul>
          <p><em>Cita bíblica: ${p["cita biblica"]}</em></p>
        </div>
      `;
    });
  }

  // Mostrar categorías al cargar la página
  mostrarCategorias();

</script>

</body>
</html>
